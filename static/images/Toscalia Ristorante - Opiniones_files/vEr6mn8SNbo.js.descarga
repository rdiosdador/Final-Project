if (self.CavalryLogger) { CavalryLogger.start_js(["SCIqE"]); }

__d("AsyncFormRequestUtils",["Arbiter"],(function(a,b,c,d,e,f){a={subscribe:function(a,c,d){b("Arbiter").subscribe("AsyncRequest/"+c,function(b,c){b=c.request.relativeTo;b&&b===a&&d(c)})}};e.exports=a}),null);
__d("XLiveViewerAsyncDismissNuxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live/viewer/nux/dismiss/",{video_id:{type:"String"},source:{type:"String"}})}),null);
__d("XLiveWatchingAsyncNuxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live/watching/",{video_id:{type:"String"},source:{type:"String"},unmuted:{type:"Bool",defaultValue:!0}})}),null);
__d("LiveVideoIndicatorOverlay",["csx","cx","invariant","AsyncRequest","CSS","DOM","Event","Run","SubscriptionsHandler","XLiveViewerAsyncDismissNuxController","XLiveWatchingAsyncNuxController"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=!1;a=function(){"use strict";__p&&__p();function a(a,c,d,e,f,g,h,k){__p&&__p();var l=this;this.$3=a;this.$1=c;this.$4=e;this.$5=a.getVideoID();this.$6=f;this.$7=!1;this.$2=new(b("SubscriptionsHandler"))();this.$2.addSubscriptions(a.addListener("streamInterrupted",this.$8.bind(this)),a.addListener("streamResumed",this.$9.bind(this)),a.addListener("finishPlayback",this.$10.bind(this)),a.addListener("beginPlayback",this.$11.bind(this)),a.addListener("VideoChannelController/enterChannel",this.$12.bind(this)),a.addListener("VideoChannelController/exitChannel",this.$13.bind(this)),a.addListener("TahoeController/enterTahoe",this.$14.bind(this)),a.addListener("TahoeController/exitTahoe",this.$15.bind(this)));if(this.$4!=null){this.$4!=null||i(0,3775);d=b("DOM").scry(this.$4.getContentRoot(),"._36gl")[0];if(!d)return;var m=b("Event").listen(d,"click",function(){m&&(m.remove(),m=null),new(b("AsyncRequest"))().setAllowCrossPageTransition().setURI(b("XLiveViewerAsyncDismissNuxController").getURIBuilder().getURI()).setData({video_id:l.$5,source:l.$3.getSource()}).setHandler(function(){j=!0}).send()})}g==="tahoe"&&this.$14();b("Run").onLeave(function(){return l.$2.release()})}var c=a.prototype;c.$16=function(){var a=this.$3.getSource();return a=="channel"||a=="snowlift"||a=="permalink"?!0:!1};c.$11=function(){var b=this;(this.$6||this.$16())&&setTimeout(function(){return b.$17()},a.DELAY_TO_SHOW_WATCHING_NUX*1e3);this.$18()};c.$14=function(){this.$7=!0;this.$6=!0;this.$19();var a=this.$4;a&&(a.setOffsetX(65),a.setOffsetY(80))};c.$15=function(){this.$7=!1,this.$6=!1,this.$20(),this.$18()};c.$12=function(){this.$6=!0};c.$13=function(){this.$6=!1,this.$20()};c.$17=function(){this.$4&&!j&&this.$4.show(),new(b("AsyncRequest"))().setAllowCrossPageTransition().setURI(b("XLiveWatchingAsyncNuxController").getURIBuilder().getURI()).setData({video_id:this.$5,source:this.$3.getSource(),unmuted:!this.$3.isMuted()}).send()};c.$8=function(){this.$19()};c.$9=function(){this.$18()};c.$19=function(){b("CSS").removeClass(this.$1,"_3rno")};c.$18=function(){if(this.$3.isState("finished")||this.$7)return;b("CSS").addClass(this.$1,"_3rno")};c.$10=function(){this.$19(),this.$20()};c.$20=function(){this.$4&&this.$4.isShown()&&this.$4.hide()};return a}();a.DELAY_TO_SHOW_WATCHING_NUX=8;e.exports=a}),null);
__d("VideoRightButtonBase",["csx","cx","AsyncFormRequestUtils","CSS","DOM","Event","FormSubmit","LayerRefocusOnHide","Run","SubscriptionsHandler","throttle"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,c,d,e,f,g,h,i){__p&&__p();var j=this;this.$1=[];this.$2=c;this.$3=g;this.$4=f;this.$5=a;this.$6=h.hiddenAfterFinish;this.$7=h.hiddenWhilePaused;this.$8=h.allowHide;this.$9=new(b("SubscriptionsHandler"))();this.$10=!1;this.$11=!1;this.$12=!1;this.$13=i;this.$14=!1;if(this.$13){this.$13.disableBehavior(b("LayerRefocusOnHide"));d=b("DOM").scry(this.$13.getContentRoot(),"._36gl")[0];d&&b("Event").listen(d,"click",function(){j.$14=!1,j.$13=null,j.nuxViewClicked()});this.$13.subscribe("hide",function(){j.$14&&j.nuxViewHidden(),j.$14=!1,j.$13=null})}}var c=a.prototype;c.setupAllHandlers=function(){__p&&__p();var a=this,c;this.$9=new(b("SubscriptionsHandler"))();var d=this.$5.getRootNode();b("Run").onLeave(function(){a.$9.release()});this.$9.addSubscriptions((c=b("Event")).listen(d,"mousemove",b("throttle")(function(){return a.$15()},200)),c.listen(d,"mouseenter",function(){if(a.$6&&a.$11||a.$7&&a.$12)return;a.$16=!0;a.$15();a.$13&&(a.$13.show(),a.$14=!0)}),c.listen(d,"mouseleave",function(){a.$17(),a.$16=!1}),this.$5.addListener("beginPlayback",function(){a.$11=!1,a.$12=!1}),this.$5.addListener("finishPlayback",function(){a.$17(),a.$11=!0}),this.$5.addListener("pausePlayback",function(){a.$17(),a.$12=!0}));c.listen(this.$2,"click",function(){a.$18&&clearTimeout(a.$18),a.$1.length===0&&(a.$3.setAttribute("value",a.nextActionOnToggle(a.$10)),b("FormSubmit").send(a.$4)),a.$10?(a.toggleSwitchOffAnimation(a.$2),a.$1.push(!1),a.$10=!1):(a.toggleSwitchOnAnimation(a.$2),a.$1.push(!0),a.$10=!0)});d=function(c){c=a.$3.getAttribute("value")===a.nextActionOnToggle(!0);if(a.$1.length>1){var d=a.$1[a.$1.length-1];d=d;(c&&!d||!c&&d)&&(a.$3.setAttribute("value",a.nextActionOnToggle(d)),b("FormSubmit").send(a.$4))}a.$1=[]};b("AsyncFormRequestUtils").subscribe(this.$4,"response",d)};c.$17=function(){!this.$14&&this.$8&&b("CSS").addClass(this.$2,"_55c1")};c.$15=function(){var a=this;this.$16&&(b("CSS").removeClass(this.$2,"_55c1"),clearTimeout(this.$19),this.$19=setTimeout(function(){return a.$17()},3e3))};c.toggleSwitchOnAnimation=function(){throw new Error("This should be overwritten by children")};c.toggleSwitchOffAnimation=function(){throw new Error("This should be overwritten by children")};c.nextActionOnToggle=function(a){throw new Error("This should be overwritten by children")};c.nuxViewClicked=function(){throw new Error("This should be overwritten by children")};c.nuxViewHidden=function(){throw new Error("This should be overwritten by children")};return a}();e.exports=a}),null);
__d("XLiveSubscribeAsyncNuxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live/subscribe/nux/",{action:{type:"String"},video_id:{type:"String"}})}),null);
__d("VideoLiveFollowButton",["cx","fbt","AsyncRequest","CSS","DOM","VideoRightButtonBase","XLiveSubscribeAsyncNuxController"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h,i,j,k){__p&&__p();g=a.call(this,b,c,d,f,g,h,i,k)||this;g.$VideoLiveFollowButton1=d;g.$VideoLiveFollowButton2=f;g.$VideoLiveFollowButton3=e;g.$VideoLiveFollowButton4=h.getAttribute("value")==="unsubscribe";g.$VideoLiveFollowButton4?g.setSwitchOnState(c):g.setSwitchOffState(c);g.$VideoLiveFollowButton5=b.getVideoID();g.setupAllHandlers();g.$VideoLiveFollowButton6=j;return g}var d=c.prototype;d.nuxViewClicked=function(){this.sendNuxSeenRequest("dismiss")};d.sendNuxSeenRequest=function(a){new(b("AsyncRequest"))().setURI(b("XLiveSubscribeAsyncNuxController").getURIBuilder().getURI()).setData({action:a,video_id:this.$VideoLiveFollowButton5}).send()};d.nuxViewHidden=function(){this.sendNuxSeenRequest("hide")};d.setSwitchOffState=function(a){var c=h._("Notificaciones de videos en vivo");b("CSS").removeClass(a,"_-kc");b("CSS").show(this.$VideoLiveFollowButton3);b("CSS").removeClass(this.$VideoLiveFollowButton1,"_knu");b("DOM").setContent(this.$VideoLiveFollowButton2,c)};d.setSwitchOnState=function(a){var c=h._("Notificaciones de videos en vivo");b("CSS").addClass(a,"_-kc");b("CSS").hide(this.$VideoLiveFollowButton3);b("CSS").addClass(this.$VideoLiveFollowButton1,"_knu");b("DOM").setContent(this.$VideoLiveFollowButton2,c)};d.nextActionOnToggle=function(a){if(a)return"unsubscribe";else return"subscribe"};d.toggleSwitchOnAnimation=function(a){this.setSwitchOnState(a)};d.toggleSwitchOffAnimation=function(a){this.setSwitchOffState(a)};return c}(b("VideoRightButtonBase"));e.exports=a}),null);
__d("VideoLiveInterruptedScreen",["CSS","SubscriptionsHandler","VideoPlayerHTML5Experiments","clearTimeout","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("VideoPlayerHTML5Experiments").displayInterruptedScreenDelay;a=function(){__p&&__p();function a(a,c){this.$4=null,this.$3=a,this.$1=c,this.$2=new(b("SubscriptionsHandler"))(),this.$2.addSubscriptions(a.addListener("streamInterrupted",this.$5.bind(this)),a.addListener("streamResumed",this.$6.bind(this)))}var c=a.prototype;c.$5=function(){var a=this;g?(b("clearTimeout")(this.$4),this.$4=b("setTimeout")(function(){b("CSS").show(a.$1)},g)):b("CSS").show(this.$1)};c.$6=function(){g&&b("clearTimeout")(this.$4),b("CSS").hide(this.$1)};return a}();e.exports=a}),null);