if (self.CavalryLogger) { CavalryLogger.start_js(["3hw3J"]); }

__d("PluginLoggedOutUserTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:PluginLoggedOutUserLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:PluginLoggedOutUserLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:PluginLoggedOutUserLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setHref=function(a){this.$1.href=a;return this};c.setIsSDK=function(a){this.$1.is_sdk=a;return this};c.setPluginAppID=function(a){this.$1.plugin_app_id=a;return this};c.setPluginName=function(a){this.$1.plugin_name=a;return this};c.setRefererURL=function(a){this.$1.referer_url=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={href:!0,is_sdk:!0,plugin_app_id:!0,plugin_name:!0,referer_url:!0,time:!0,weight:!0};e.exports=a}),null);
__d("getIframeEmbedCode",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=["border:none","overflow:hidden"];b=['src="'+a.toString()+'"','width="'+b+'"','height="'+c+'"','style="'+d.join(";")+'"','scrolling="no"','frameborder="0"','allowTransparency="true"','allow="encrypted-media"'];a.getPath()==="/plugins/video.php"&&b.push('allowFullScreen="true"');return"<iframe "+b.join(" ")+"></iframe>"}e.exports=a}),null);
__d("EmbedDialog",["csx","CSS","DialogPosition","DOM","Event","Style","URI","getIframeEmbedCode"],(function(a,b,c,d,e,f,g){__p&&__p();var h;a={init:function(a,c){setTimeout(function(){var c=b("DOM").scry(a,"._1wnd");c.forEach(function(a){a.select(),b("Event").listen(a,"click",function(){a.select()})})},0),c&&b("DialogPosition").setFixedTopMargin(5)},updateWidth:function(a,c){a=b("DOM").find(a,"^._59s7");b("Style").set(a,"width",c+"px")},initRedesign:function(a,c,d,e,f){__p&&__p();var g=this,h;setTimeout(function(){var e=g._updateCodeInputValue(c,a,d);b("Style").set(a,"width",e-2*(8+1)+"px")},0);function i(){b("CSS").toggle(d),b("CSS").toggle(e),b("CSS").toggle(f)}(h=b("Event")).listen(e,"click",i);h.listen(f,"click",i);h.listen(a,"click",function(){g._updateCodeInputValue(c,a,d),a.select()});h.listen(a,"keydown",function(b){(b.ctrlKey||b.metaKey)&&(g._updateCodeInputValue(c,a,d),a.select())})},_updateCodeInputValue:function(a,c,d){var e=b("CSS").shown(d);e||b("CSS").show(d);var f=d.offsetWidth,g=d.offsetHeight;e||b("CSS").hide(d);c.value=b("getIframeEmbedCode")(new(h||(h=b("URI")))(a).addQueryData({width:f}),f,g);return f}};e.exports=a}),null);
__d("PlatformWidgetEndpoint",["PlatformVersioning"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){return b("PlatformVersioning").versionAwarePath("/dialog/"+a+(c?"/"+c:""))}function c(a,c){return b("PlatformVersioning").versionAwarePath("/plugins/"+a+(c?"/"+c:""))}function d(a){return/^\/plugins\//.test(b("PlatformVersioning").getUnversionedPath(a))}function f(a){return/^\/dialog\//.test(b("PlatformVersioning").getUnversionedPath(a))}a={dialog:a,plugins:c,isPluginEndpoint:d,isDialogEndpoint:f};e.exports=a}),null);
__d("PluginOptin",["DOMEvent","DOMEventListener","PlatformWidgetEndpoint","PluginLoggedOutUserTypedLogger","PluginMessage","PopupWindow","URI","UserAgent_DEPRECATED"],(function(a,b,c,d,e,f){__p&&__p();var g;function h(a,c){Object.assign(this,{return_params:(g||(g=b("URI"))).getRequestURI().getQueryData(),login_params:{},optin_params:{},plugin:a,api_key:c}),this.addReturnParams({ret:"optin"}),delete this.return_params.hash}Object.assign(h.prototype,{addReturnParams:function(a){Object.assign(this.return_params,a);return this},addLoginParams:function(a){Object.assign(this.login_params,a);return this},addOptinParams:function(a){Object.assign(this.optin_params,a);return this},start:function(){var a=this.api_key||127760087237610;(g||(g=b("URI"))).getRequestURI().getQueryData().kid_directed_site&&(this.login_params.kid_directed_site=!0);this.login_params.referrer=document.referrer;var c=new(g||(g=b("URI")))(b("PlatformWidgetEndpoint").dialog("plugin.optin")).addQueryData(this.optin_params).addQueryData({app_id:a,secure:g.getRequestURI().isSecure(),social_plugin:this.plugin,return_params:JSON.stringify(this.return_params),login_params:JSON.stringify(this.login_params)});b("UserAgent_DEPRECATED").mobile()?c.setSubdomain("m"):c.addQueryData({display:"popup"});this.return_params.act!==null&&this.return_params.act==="send"&&new(b("PluginLoggedOutUserTypedLogger"))().setPluginAppID(a).setPluginName(this.return_params.act).setHref(this.return_params.href).logVital();this.popup=b("PopupWindow").open(c.toString(),420,450);b("PluginMessage").listen();return this}});h.starter=function(a,b,c,d){a=new h(a);a.addReturnParams(b||{});a.addLoginParams(c||{});a.addOptinParams(d||{});return a.start.bind(a)};h.listen=function(a,c,d,e,f){b("DOMEventListener").add(a,"click",function(a){new(b("DOMEvent"))(a).kill(),h.starter(c,d,e,f)()})};e.exports=h}),null);
__d("PluginFeedLikeButton",["Arbiter","AsyncFormRequestUtils","ClientIDs","CSS","DOM","DOMEventListener","FormSubmit","Keys","PluginOptin","URI"],(function(a,b,c,d,e,f){__p&&__p();var g;window.resetConfirmStoryLike=function(a){b("CSS").show(b("DOM").find(document,"#likeStory_"+a)),b("DOM").remove(b("DOM").find(document,"#confirmStory_"+a))};a={addClientId:function(a){a.setAttribute("value",b("ClientIDs").getNewClientID())},loggedOutLikeButton:function(a,c,d){var e="";if(c===23)e="post";else if(c===50)e="page";else throw new Error("Invalid FBFeedLocation type.");c=new(b("PluginOptin"))(e).addReturnParams({act:"like_"+a});b("DOMEventListener").add(d,"click",c.start.bind(c))},init:function(a,c,d,e,f){__p&&__p();var h,i=function(a){if(a.type==="keypress")if(a.keyCode===b("Keys").RETURN||a.keyCode===b("Keys").SPACE)b("FormSubmit").send(f);else return;b("FormSubmit").send(f)};(h=b("DOMEventListener")).add(c,"click",i);h.add(d,"click",i);h.add(c,"keypress",i);h.add(d,"keypress",i);h=e.getAttribute("value")==="1";b("AsyncFormRequestUtils").subscribe(f,"send",function(f){f=e.getAttribute("value")==="1";b("CSS").conditionShow(d,f);b("CSS").conditionShow(c,!f);b("Arbiter").inform("embeddedUfiToggle",{isLike:f,storyToken:a});e.setAttribute("value",f?"":"1")});b("AsyncFormRequestUtils").subscribe(f,"response",function(f){f=f.response.payload;if(f&&!f.success){f=f.isLike;b("CSS").conditionShow(c,f);b("CSS").conditionShow(d,!f);b("Arbiter").inform("revertLike",{isLike:f,storyToken:a});e.setAttribute("value",f?"1":"")}});i=new(g||(g=b("URI")))(window.location.search).getQueryData();h&&i.act==="like_"+a&&b("FormSubmit").send(f)}};e.exports=a}),null);