if (self.CavalryLogger) { CavalryLogger.start_js(["0ZQex"]); }

__d("UFIOrderingModeSelector.react",["cx","invariant","FBLogger","InlineBlock.react","Link.react","PopoverMenu.react","React","ReactXUIMenu"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReactXUIMenu").SelectableMenu,j=b("ReactXUIMenu").SelectableItem;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.onMenuItemClick=function(a,b){c.props.onOrderChanged(b.item.getValue())},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){__p&&__p();var a=this;if(this.props.orderingModes===null||this.props.orderingModes===void 0||this.props.orderingModes.length===0)return null;var c=this.props.orderingModes.filter(function(b){return b.value==a.props.selectedMode}).map(function(a){return a.name}).pop();c==null&&b("FBLogger")("comments").mustfix("Invalid ordering mode "+this.props.selectedMode+". Available modes: "+this.props.orderingModes.map(function(a){return a.value}).join(", ")+" on feedback target "+(this.props.contextArgs?this.props.contextArgs.ftentidentifier:"(unknown)"));c||h(0,5064);var d=b("React").jsx(i,{className:"_4tju",onItemClick:this.onMenuItemClick,children:this.props.orderingModes.map(function(c){var d;return(d=b("React")).jsx(j,{value:c.value,label:c.name,selected:c.value===a.props.selectedMode,children:d.jsxs("div",{className:"_3scm",children:[d.jsx("div",{className:"_3scn",children:c.name}),d.jsx("div",{className:"_3sco",children:c.description})]})},c.value)})});return b("React").jsx("div",{className:"_3scp",children:b("React").jsx(b("InlineBlock.react"),{children:b("React").jsx(b("PopoverMenu.react"),{className:"_3scs",menu:d,alignh:this.props.alignh||"right",children:b("React").jsxs(b("Link.react"),{children:[c,b("React").jsx("div",{className:"_3sct"})]})})})})};return c}(b("React").Component);e.exports=a}),null);
__d("CommentsOrderingModeSelectorUsageTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:CommentsOrderingModeSelectorUsageLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:CommentsOrderingModeSelectorUsageLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:CommentsOrderingModeSelectorUsageLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAvailableOrders=function(a){this.$1.available_orders=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setEndOrder=function(a){this.$1.end_order=a;return this};c.setPostFbid=function(a){this.$1.post_fbid=a;return this};c.setPostOwnerFbid=function(a){this.$1.post_owner_fbid=a;return this};c.setStartOrder=function(a){this.$1.start_order=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={available_orders:!0,end_order:!0,post_fbid:!0,post_owner_fbid:!0,start_order:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("UFIOrderingModeSelectorContainer.react",["CommentsOrderingModeSelectorUsageTypedLogger","Random","React","SubscriptionsHandler","UFIConfig","UFIInstanceAction","UFIOrderingModeSelector.react","UFIOrderingModeStore","UFISharedDispatcher","prop-types"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={selectedMode:b("UFIOrderingModeStore").getState().get(d.props.contextArgs.instanceid)},d.$1=null,d.onOrderChanged=function(a){var c=d.props.feedback;if(c.orderingmodes&&b("UFIConfig").logChangeOrderingModeUsageSampleRate>b("Random").random()){var e=c.orderingmodes.map(function(a){return a.value});new(b("CommentsOrderingModeSelectorUsageTypedLogger"))().setStartOrder(d.state.selectedMode).setEndOrder(a).setPostFbid(c.commentstargetfbid).setPostOwnerFbid(c.ownerid).setAvailableOrders(e).log()}b("UFISharedDispatcher").dispatch(b("UFIInstanceAction").changeOrderingMode(d.props.contextArgs,a))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("UFIOrderingModeStore").addListener(function(){if(!a.$1)return;a.setState({selectedMode:b("UFIOrderingModeStore").getState().get(a.props.contextArgs.instanceid)})}))};d.componentWillUnmount=function(){this.$1&&(this.$1.release(),this.$1=null)};d.shouldComponentUpdate=function(a,b){return this.state.selectedMode!==b.selectedMode};d.render=function(){return b("React").jsx(b("UFIOrderingModeSelector.react"),{alignh:this.props.alignh||"right",onOrderChanged:this.onOrderChanged,orderingModes:this.props.feedback.orderingmodes,selectedMode:this.state.selectedMode,contextArgs:this.props.contextArgs})};return c}(b("React").Component);a.propTypes={feedback:(c=b("prop-types")).shape({defaultcommentorderingmode:c.string.isRequired,orderingmodes:c.arrayOf(c.shape({name:c.string.isRequired,description:c.string.isRequired,selected:c.bool.isRequired,value:c.string.isRequired})).isRequired,commentstargetfbid:c.string.isRequired,ownerid:c.string.isRequired}).isRequired,contextArgs:c.object.isRequired,alignh:c.string};e.exports=a}),null);