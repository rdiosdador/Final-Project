if (self.CavalryLogger) { CavalryLogger.start_js(["cpI4E"]); }

__d("GroupMallPopoverLauncher",["AsyncDialog","AsyncRequest"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){}var c=a.prototype;c.construct=function(){};a.launchPopover=function(a){b("AsyncDialog").send(new(b("AsyncRequest"))(a))};return a}();e.exports=a}),null);
__d("PagesManagerUserMessagePrompt",["ChatAppStore","ChatOpenTabEventLogger","ChatVisibility","FantaTabActions","MercuryIDs","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=2e3,h={openTab:function(a,c,d){__p&&__p();c===void 0&&(c="fb_page:user_message_prompt");d===void 0&&(d=g);if(!b("ChatVisibility").isOnline())return;setTimeout(function(){if(b("ChatAppStore").getState().isInitialized)h._openTabAndLog(a,c);else var d=b("ChatAppStore").addListener(function(){b("ChatAppStore").getState().isInitialized&&(b("setImmediate")(function(){h._openTabAndLog(a,c)}),d.remove())})},d)},_openTabAndLog:function(a,c){var d=b("MercuryIDs").getThreadIDFromUserID(a);b("FantaTabActions").openTab(d,[c]);b("ChatOpenTabEventLogger").logUserAutoOpen(c,a);b("PagesLogger").log(a,b("PagesLoggerEventEnum").IMPRESSION,b("PagesLoggerEventTargetEnum").PAGE_MESSAGE_PROMPT,null,["pages_growth"],{})}};e.exports=h}),null);